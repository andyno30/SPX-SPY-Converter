<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Spyconverter Pro Dashboard</title>
    <link href="styles.css" rel="stylesheet">
</head>
<body>
    <div class="main-container">
        <h1>Welcome to Spyconverter Pro!</h1>
        <p>You are logged in.</p>
        <p id="user-email"></p>
        <p id="user-status"></p>
        <button id="subscribe-btn">Subscribe</button>
        <button id="delete-account-btn">Delete Account</button>
        <p id="delete-feedback"></p>
    </div>
    <script src="script.js"></script>
    <script>
        document.getElementById('delete-account-btn').addEventListener('click', function() {
            if (confirm('Are you sure you want to delete your account? This action cannot be undone.')) {
                deleteAccount();
            }
        });
        document.getElementById('subscribe-btn').addEventListener('click', subscribe);
        fetchUserInfo();

        // Check URL params for payment feedback
        const urlParams = new URLSearchParams(window.location.search);
        if (urlParams.get('success')) {
            document.getElementById('delete-feedback').textContent = 'Payment successful! Subscription activated.';
            setTimeout(fetchUserInfo, 1000); // Refresh status
        } else if (urlParams.get('cancel')) {
            document.getElementById('delete-feedback').textContent = 'Payment canceled.';
        }
    </script>
</body>
</html>
